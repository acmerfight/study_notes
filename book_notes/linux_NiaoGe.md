#### Linux 的文件权限与目录配置
##### 使用者与群组
*   文件拥有者
*   群组概念
*   其他人的概念

##### Linux 用户身份与群组记录的文件
*   所有的系统上的账号与一般身份使用者，还有那个root的相关信息， 都是记录在/etc/passwd这个文件内的。至于个人的密码则是记录在/etc/shadow这个文件下。 此外，Linux所有的组名都纪录在/etc/group内！这三个文件可以说是Linux系统里面账号、密码、群组信息的集中地

#### Linux 文件权限概念
##### Linux文件属性

![](https://raw.github.com/acmerfight/study_notes/master/images/l1.png)

![](https://raw.github.com/acmerfight/study_notes/master/images/l2.png)

*   第一个字符代表这个文件是『目录、文件或链接文件等等』
    *   当为[ d ]则是目录，例如上表档名为『.gconf』的那一行；
    *   当为[ - ]则是文件，例如上表档名为『install.log』那一行；
    *   若是[ l ]则表示为连结档(link file)；
    *   若是[ b ]则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；
    *   若是[ c ]则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。

*   接下来的字符中，以三个为一组，且均为『rwx』 的三个参数的组合。其中，[ r ]代表可读(read)、[ w ]代表可写(write)、[ x ]代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号[ - ]而已。
    *   第一组为『文件拥有者的权限』，以『install.log』那个文件为例， 该文件的拥有者可以读写，但不可执行；
    *   第二组为『同群组的权限』；
    *   第三组为『其他非本群组的权限』。

*   第二栏表示有多少档名连结到此节点(i-node)
    *   每个文件都会将他的权限与属性记录到文件系统的i-node中，不过，我们使用的目录树却是使用文件名来记录， 因此每个档名就会连结到一个i-node啰！这个属性记录的，就是有多少不同的档名连结到相同的一个i-node号码去就是了

*   第三栏表示这个文件(或目录)的『拥有者账号』

*   第五栏为这个文件的容量大小，默认单位为bytes

*   第六栏为这个文件的建档日期或者是最近的修改日期

*   第七栏为这个文件的档名

*   Linux文件权限的重要性
    *   系统保护的功能 
    *   团队开发软件或数据共享的功能

在你修改你的linux文件与目录的属性之前，一定要先搞清楚， 什么数据是可变的，什么是不可变的

##### 如何改变文件属性与权限

chgrp ：改变文件所属群组  
chown ：改变文件拥有者  
chmod ：改变文件的权限, SUID, SGID, SBIT等等的特性  

![](https://raw.github.com/acmerfight/study_notes/master/images/l3.png)

##### 目录与文件之权限意义

*   文件是实际含有数据的地方，包括一般文本文件、数据库内容文件、二进制可执行文件(binary program)等等。 因此，权限对于文件来说
    *   r (read)：可读取此一文件的实际内容，如读取文本文件的文字内容等；
    *   w (write)：可以编辑、新增或者是修改该文件的内容(但不含删除该文件)；
    *   x (execute)：该文件具有可以被系统执行的权限。

*   目录主要的内容在记录文件名列表，文件名与目录有强烈的关连啦！ 所以如果是针对目录时
    *   r (read contents in directory)：
        *   表示具有读取目录结构列表的权限，所以当你具有读取(r)一个目录的权限时，表示你可以查询该目录下的文件名数据。 所以你就可以利用 ls 这个指令将该目录的内容列表显示出来！
    *   w (modify contents of directory)：
        *   建立新的文件与目录；
        *   删除已经存在的文件与目录(不论该文件的权限为何！)
        *   将已存在的文件或目录进行更名；
        *   搬移该目录内的文件、目录位置。
    *   x (access directory)：
        *   目录的x代表的是用户能否进入该目录成为工作目录的用途！ 所谓的工作目录(work directory)就是你目前所在的目录

如果你在某目录下不具有x的权限， 那么你就无法切换到该目录下，也就无法执行该目录下的任何指令，即使你具有该目录的r的权限

要开放目录给任何人浏览时，应该至少也要给予r及x的权限，但w权限不可随便给！

##### Linux文件种类与扩展名

*   正规文件(regular file )：
    *   纯文本档(ASCII)：这是Linux系统中最多的一种文件类型啰， 称为纯文本档是因为内容为我们人类可以直接读到的数据，例如数字、字母等等。 几乎只要我们可以用来做为设定的文件都属于这一种文件类型。 举例来说，你可以下达『 cat ~/.bashrc 』就可以看到该文件的内容。 (cat 是将一个文件内容读出来的指令)

    *   二进制文件(binary)：还记得我们在『 第零章、计算器概论 』里面的软件程序的运作中提过， 我们的系统其实仅认识且可以执行二进制文件(binary file)吧？没错～ 你的Linux当中的可执行文件(scripts, 文字型批处理文件不算)就是这种格式的啦～ 举例来说，刚刚下达的指令cat就是一个binary file。

    *   数据格式文件(data)： 有些程序在运作的过程当中会读取某些特定格式的文件，那些特定格式的文件可以被称为数据文件 (data file)。举例来说，我们的Linux在使用者登入时，都会将登录的数据记录在 /var/log/wtmp那个文件内，该文件是一个data file，他能够透过last这个指令读出来！

*   目录(directory)

*   连结档(link)

*   设备与装置文件(device)：
    *   区块(block)设备档
    *   字符(character)设备文件

*   数据接口文件(sockets)

*   数据输送文件(FIFO, pipe)

基本上，Linux系统上的文件名真的只是让你了解该文件可能的用途而已， 真正的执行与否仍然需要权限的规范才行

##### 文件内容查阅 

cat  由第一行开始显示文件内容
tac  从最后一行开始显示，可以看出 tac 是 cat 的倒著写！
nl   显示的时候，顺道输出行号！
more 一页一页的显示文件内容
less 与 more 类似，但是比 more 更好的是，他可以往前翻页！
head 只看头几行
tail 只看尾巴几行
od   以二进位的方式读取文件内容！

touch 这个命令最常被使用的情况是：

*   创建一个空的文件；
*   将某个文件日期修订为目前 (mtime 与 atime)
